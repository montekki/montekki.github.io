{% extends "tale-zola/templates/index.html" %}

{% import "post-preview.html" as post_macros %}

{% if page.extra.katex or section.extra.katex or config.extra.katex %}
  {% include 'templates/katex.html' %}
{% endif %}


{% block description %}Fedor Sakharov's blog{% endblock description %}

{% block content %}
    <div class="post-list">
        <h1>All posts</h1>

        {% for year, posts in section.pages | group_by(attribute="year") %}
            <h2>{{ year }}</h2>

            <ul>
            {% for post in posts %}
                {{ post_macros::post_preview(post=post) }}
            {% endfor %}
            </ul>
        {% endfor %}
    </div>
{% endblock content %}
